---
title: 19-窗口最值更新结构
tags: 算法
categories:
  - algorithm
date: 2022-10-20 21:05:00
---

## 更新结构


双端队列，严格的由大到小（或由小到大）

**双端队列放下标！！！因为下标需要用来更新过期**

注意：**这个结构是动态更新的，只能在更新过程中获取值，更新完就不能获取了！！！**

go 不一定要用双端队列，两边都出，但只从后面进。

比如维护窗口最大值：小的扔掉，大的往后面加，过期时把左边的扔掉。

### 窗口大小为w的最值

### 满足max-min<=num的子数组个数

- 维护一个max、一个min的更新结构。
- 推论：大数组满足，则中间小数组都满足；小数组不满足，两边大数组也不满足。
- R往右滑动进队列，不满足条件，L往左走，R继续尝试

```
for L=0...{
    for R=0{
        不满足条件，统计res，break
    }
}
```

### 加油站问题

### 总体思路
- 若L不回退，则想办法判定R是否回退，若不回退则和窗口问题具有相似性(子数组、子串)
- 想办法转化成，在某个区间上，最值是否满足某个条件的问题
- (用好累加和)