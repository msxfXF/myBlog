---
title: 7-异或运算
tags: 算法
categories:
  - algorithm
date: 2022-07-10 08:46:20
---

## 基本概念和性质
异或运算即 无进位相加，同或和异或互为非运算

0 ^ N = N

N ^ N = 0

满足交换律和结合律

golang中^同时是二元操作符异或和一元操作符按位取反。

逻辑取反!

&^ 操作符是与非，先^取反，再&。

### 题目一 不用额外变量交换两个数

``` golang
a = a ^ b
b = a ^ b
a = a ^ b

a = a - b
b = a + b
a = b - a
// 可能会溢出，而且异或运算更快
```

数组下标时，i, j不可相同，地址不同

### 题目二 只有一个数出现奇数次、其它偶数次

### 题目三 取反、提取int最右侧的1
x & (^a + 1)
等价于
x & (-a)

x & (x-1) 是 最低设置位(最低位的1) 置0

### 题目四 两种数出现奇数次、其它偶数次

a != b

1. res = 依次异或 = a ^ b != 0
2. 找某个res位不等于0的位, rightone = res & (^res + 1), 说明a和b的rightone位不一样
3. 根据rightone位是否为0(arr[i] & rightone != 0)，进行分别统计

### 题目五 数组中一种数出现K次、其他数出现M次, **K < M**

1. 转为数组int[32]！
2. 逐位统计, 模M
3. 还原原来的数

``` tmp[i] += num & (1 << i)``` 统计1

``` ans |= (1 << i) ``` 设置1
对负数同样适用